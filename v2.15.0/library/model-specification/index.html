<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model specification · RxInfer.jl</title><meta name="title" content="Model specification · RxInfer.jl"/><meta property="og:title" content="Model specification · RxInfer.jl"/><meta property="twitter:title" content="Model specification · RxInfer.jl"/><meta name="description" content="Documentation for RxInfer.jl."/><meta property="og:description" content="Documentation for RxInfer.jl."/><meta property="twitter:description" content="Documentation for RxInfer.jl."/><meta property="og:url" content="https://biaslab.github.io/RxInfer.jl/library/model-specification/"/><meta property="twitter:url" content="https://biaslab.github.io/RxInfer.jl/library/model-specification/"/><link rel="canonical" href="https://biaslab.github.io/RxInfer.jl/library/model-specification/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/theme.css" rel="stylesheet" type="text/css"/><link href="../../assets/header.css" rel="stylesheet" type="text/css"/><script src="../../assets/header.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="RxInfer.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="RxInfer.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RxInfer.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../../manuals/getting-started/">Getting started</a></li><li><a class="tocitem" href="../../manuals/comparison/">RxInfer.jl vs. Others</a></li><li><a class="tocitem" href="../../manuals/model-specification/">Model specification</a></li><li><a class="tocitem" href="../../manuals/constraints-specification/">Constraints specification</a></li><li><a class="tocitem" href="../../manuals/meta-specification/">Meta specification</a></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Inference specification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manuals/inference/overview/">Overview</a></li><li><a class="tocitem" href="../../manuals/inference/inference/">Static dataset</a></li><li><a class="tocitem" href="../../manuals/inference/rxinference/">Real-time dataset / reactive inference</a></li><li><a class="tocitem" href="../../manuals/inference/postprocess/">Inference results postprocessing</a></li><li><a class="tocitem" href="../../manuals/inference/manual/">Manual inference specification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-7" type="checkbox"/><label class="tocitem" for="menuitem-2-7"><span class="docs-label">Inference customization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manuals/custom-node/">Defining a custom node and rules</a></li></ul></li><li><a class="tocitem" href="../../manuals/debugging/">Debugging</a></li><li><a class="tocitem" href="../../manuals/delta-node/">Delta node</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../functional-forms/">Built-in functional form constraints</a></li><li class="is-active"><a class="tocitem" href>Model specification</a></li><li><a class="tocitem" href="../bethe-free-energy/">Bethe Free Energy</a></li><li><a class="tocitem" href="../exported-methods/">Exported methods</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/overview/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Basic examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/basic_examples/overview/">Overview</a></li><li><a class="tocitem" href="../../examples/basic_examples/Coin Toss Model/">Coin toss model (Beta-Bernoulli)</a></li><li><a class="tocitem" href="../../examples/basic_examples/Bayesian Linear Regression Tutorial/">Bayesian Linear Regression Tutorial</a></li><li><a class="tocitem" href="../../examples/basic_examples/Kalman filtering and smoothing/">Kalman filtering and smoothing</a></li><li><a class="tocitem" href="../../examples/basic_examples/Predicting Bike Rental Demand/">Predicting Bike Rental Demand</a></li><li><a class="tocitem" href="../../examples/basic_examples/Hidden Markov Model/">How to train your Hidden Markov Model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Advanced examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/advanced_examples/overview/">Overview</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Active Inference Mountain car/">Active Inference Mountain car</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Advanced Tutorial/">Advanced Tutorial</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Assessing People Skills/">Assessing People’s Skills</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Chance Constraints/">Chance-Constrained Active Inference</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Conjugate-Computational Variational Message Passing/">Conjugate-Computational Variational Message Passing (CVI)</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Global Parameter Optimisation/">Global Parameter Optimisation</a></li><li><a class="tocitem" href="../../examples/advanced_examples/GP Regression by SSM/">Solve GP regression by SDE</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Infinite Data Stream/">Infinite Data Stream</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Nonlinear Sensor Fusion/">Nonlinear Sensor Fusion</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Problem specific</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/problem_specific/overview/">Overview</a></li><li><a class="tocitem" href="../../examples/problem_specific/Autoregressive Models/">Autoregressive Models</a></li><li><a class="tocitem" href="../../examples/problem_specific/Gamma Mixture/">Gamma Mixture Model</a></li><li><a class="tocitem" href="../../examples/problem_specific/Gaussian Mixture/">Gaussian Mixture</a></li><li><a class="tocitem" href="../../examples/problem_specific/Hierarchical Gaussian Filter/">Hierarchical Gaussian Filter</a></li><li><a class="tocitem" href="../../examples/problem_specific/Invertible Neural Network Tutorial/">Invertible neural networks: a tutorial</a></li><li><a class="tocitem" href="../../examples/problem_specific/Probit Model (EP)/">Probit Model (EP)</a></li><li><a class="tocitem" href="../../examples/problem_specific/RTS vs BIFM Smoothing/">RTS vs BIFM Smoothing</a></li><li><a class="tocitem" href="../../examples/problem_specific/Simple Nonlinear Node/">Simple Nonlinear Node</a></li><li><a class="tocitem" href="../../examples/problem_specific/Universal Mixtures/">Universal Mixtures</a></li></ul></li></ul></li><li><span class="tocitem">Contributing</span><ul><li><a class="tocitem" href="../../contributing/overview/">Overview</a></li><li><a class="tocitem" href="../../contributing/new-documentation/">Contributing to the documentation</a></li><li><a class="tocitem" href="../../contributing/new-package/">Contributing to the dependencies</a></li><li><a class="tocitem" href="../../contributing/new-example/">Contributing to the examples</a></li><li><a class="tocitem" href="../../contributing/new-release/">Publishing a new release</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Model specification</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model specification</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/biaslab/RxInfer.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/biaslab/RxInfer.jl/blob/main/docs/src/library/model-specification.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="lib-model-specification"><a class="docs-heading-anchor" href="#lib-model-specification">Model specification in RxInfer</a><a id="lib-model-specification-1"></a><a class="docs-heading-anchor-permalink" href="#lib-model-specification" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.@model" href="#RxInfer.@model"><code>RxInfer.@model</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@model function model_name(model_arguments...; model_keyword_arguments...)
    # model description
end</code></pre><p><code>@model</code> macro generates a function that returns an equivalent graph-representation of the given probabilistic model description.</p><p><strong>Supported alias in the model specification</strong></p><ul><li><code>a || b</code>: alias for <code>OR(a, b)</code> node (operator precedence between <code>||</code>, <code>&amp;&amp;</code>, <code>-&gt;</code> and <code>!</code> is the same as in Julia).</li><li><code>a &amp;&amp; b</code>: alias for <code>AND(a, b)</code> node (operator precedence <code>||</code>, <code>&amp;&amp;</code>, <code>-&gt;</code> and <code>!</code> is the same as in Julia).</li><li><code>a -&gt; b</code>: alias for <code>IMPLY(a, b)</code> node (operator precedence <code>||</code>, <code>&amp;&amp;</code>, <code>-&gt;</code> and <code>!</code> is the same as in Julia).</li><li><code>¬a</code> and <code>!a</code>: alias for <code>NOT(a)</code> node (Unicode <code>\neg</code>, operator precedence <code>||</code>, <code>&amp;&amp;</code>, <code>-&gt;</code> and <code>!</code> is the same as in Julia).</li><li><code>a + b + c</code>: alias for <code>(a + b) + c</code></li><li><code>a * b * c</code>: alias for <code>(a * b) * c</code></li><li><code>Normal(μ|m|mean = ..., σ²|τ⁻¹|v|var|variance = ...)</code> alias for <code>NormalMeanVariance(..., ...)</code> node. <code>Gaussian</code> could be used instead <code>Normal</code> too.</li><li><code>Normal(μ|m|mean = ..., τ|γ|σ⁻²|w|p|prec|precision = ...)</code> alias for <code>NormalMeanPrecision(..., ...)</code> node. <code>Gaussian</code> could be used instead <code>Normal</code> too.</li><li><code>MvNormal(μ|m|mean = ..., Σ|V|Λ⁻¹|cov|covariance = ...)</code> alias for <code>MvNormalMeanCovariance(..., ...)</code> node. <code>MvGaussian</code> could be used instead <code>MvNormal</code> too.</li><li><code>MvNormal(μ|m|mean = ..., Λ|W|Σ⁻¹|prec|precision = ...)</code> alias for <code>MvNormalMeanPrecision(..., ...)</code> node. <code>MvGaussian</code> could be used instead <code>MvNormal</code> too.</li><li><code>MvNormal(μ|m|mean = ..., τ|γ|σ⁻²|scale_diag_prec|scale_diag_precision = ...)</code> alias for <code>MvNormalMeanScalePrecision(..., ...)</code> node. <code>MvGaussian</code> could be used instead <code>MvNormal</code> too.</li><li><code>Gamma(α|a|shape = ..., θ|β⁻¹|scale = ...)</code> alias for <code>GammaShapeScale(..., ...) node.</code></li><li><code>Gamma(α|a|shape = ..., β|θ⁻¹|rate = ...)</code> alias for <code>GammaShapeRate(..., ...) node.</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/RxInfer.jl/blob/792c6e3f776ee7793e1b5c79fc895b8cd7bb2056/src/graphppl.jl#L547-L559">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.ModelGenerator" href="#RxInfer.ModelGenerator"><code>RxInfer.ModelGenerator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ModelGenerator</code></pre><p><code>ModelGenerator</code> is a special object that is used in the <code>inference</code> function to lazily create model later on given <code>constraints</code>, <code>meta</code> and <code>options</code>.</p><p>See also: <a href="../../manuals/inference/inference/#RxInfer.inference"><code>inference</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/RxInfer.jl/blob/792c6e3f776ee7793e1b5c79fc895b8cd7bb2056/src/model.jl#L238-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.create_model" href="#RxInfer.create_model"><code>RxInfer.create_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_model(::ModelGenerator, constraints = nothing, meta = nothing, options = nothing)</code></pre><p>Creates an instance of <code>FactorGraphModel</code> from the given model specification as well as optional <code>constraints</code>, <code>meta</code> and <code>options</code>.</p><p>Returns a tuple of 2 values:</p><ul><li><ol><li>an instance of <code>FactorGraphModel</code></li></ol></li><li><ol><li>return value from the <code>@model</code> macro function definition</li></ol></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/RxInfer.jl/blob/792c6e3f776ee7793e1b5c79fc895b8cd7bb2056/src/model.jl#L264-L272">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.ModelInferenceOptions" href="#RxInfer.ModelInferenceOptions"><code>RxInfer.ModelInferenceOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ModelInferenceOptions(; kwargs...)</code></pre><p>Creates model inference options object. The list of available options is present below.</p><p><strong>Options</strong></p><ul><li><code>limit_stack_depth</code>: limits the stack depth for computing messages, helps with <code>StackOverflowError</code> for some huge models, but reduces the performance of inference backend. Accepts integer as an argument that specifies the maximum number of recursive depth. Lower is better for stack overflow error, but worse for performance.</li><li><code>warn</code>: (optional) flag to suppress warnings. Warnings are not displayed if set to <code>false</code>. Defaults to <code>true</code>.</li></ul><p><strong>Advanced options</strong></p><ul><li><code>pipeline</code>: changes the default pipeline for each factor node in the graph</li><li><code>global_reactive_scheduler</code>: changes the scheduler of reactive streams, see Rocket.jl for more info, defaults to no scheduler</li></ul><p>See also: <a href="../../manuals/inference/inference/#RxInfer.inference"><code>inference</code></a>, <a href="../../manuals/inference/rxinference/#RxInfer.rxinference"><code>rxinference</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/RxInfer.jl/blob/792c6e3f776ee7793e1b5c79fc895b8cd7bb2056/src/model.jl#L17-L33">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../functional-forms/">« Built-in functional form constraints</a><a class="docs-footer-nextpage" href="../bethe-free-energy/">Bethe Free Energy »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.0 on <span class="colophon-date" title="Wednesday 29 November 2023 17:37">Wednesday 29 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
