<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting started · RxInfer.jl</title><meta name="title" content="Getting started · RxInfer.jl"/><meta property="og:title" content="Getting started · RxInfer.jl"/><meta property="twitter:title" content="Getting started · RxInfer.jl"/><meta name="description" content="Documentation for RxInfer.jl."/><meta property="og:description" content="Documentation for RxInfer.jl."/><meta property="twitter:description" content="Documentation for RxInfer.jl."/><meta property="og:url" content="https://reactivebayes.github.io/RxInfer.jl/manuals/getting-started/"/><meta property="twitter:url" content="https://reactivebayes.github.io/RxInfer.jl/manuals/getting-started/"/><link rel="canonical" href="https://reactivebayes.github.io/RxInfer.jl/manuals/getting-started/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/theme.css" rel="stylesheet" type="text/css"/><link href="../../assets/header.css" rel="stylesheet" type="text/css"/><script src="../../assets/header.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="RxInfer.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="RxInfer.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RxInfer.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">User guide</span><ul><li class="is-active"><a class="tocitem" href>Getting started</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Importing-RxInfer"><span>Importing RxInfer</span></a></li><li><a class="tocitem" href="#Example:-Inferring-the-bias-of-a-coin"><span>Example: Inferring the bias of a coin</span></a></li><li><a class="tocitem" href="#Where-to-go-next?"><span>Where to go next?</span></a></li></ul></li><li><a class="tocitem" href="../comparison/">RxInfer.jl vs. Others</a></li><li><a class="tocitem" href="../model-specification/">Model specification</a></li><li><a class="tocitem" href="../constraints-specification/">Constraints specification</a></li><li><a class="tocitem" href="../meta-specification/">Meta specification</a></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Inference specification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../inference/overview/">Overview</a></li><li><a class="tocitem" href="../inference/infer/">Static vs Streamline inference</a></li><li><a class="tocitem" href="../inference/postprocess/">Inference results postprocessing</a></li><li><a class="tocitem" href="../inference/manual/">Manual inference specification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-7" type="checkbox"/><label class="tocitem" for="menuitem-2-7"><span class="docs-label">Inference customization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../custom-node/">Defining a custom node and rules</a></li></ul></li><li><a class="tocitem" href="../understanding-why-to-initialize-messages/">Messages initialization</a></li><li><a class="tocitem" href="../debugging/">Debugging</a></li><li><a class="tocitem" href="../delta-node/">Delta node</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../library/functional-forms/">Built-in functional form constraints</a></li><li><a class="tocitem" href="../../library/model-specification/">Model specification</a></li><li><a class="tocitem" href="../../library/bethe-free-energy/">Bethe Free Energy</a></li><li><a class="tocitem" href="../../library/exported-methods/">Exported methods</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/overview/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Basic examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/basic_examples/overview/">Overview</a></li><li><a class="tocitem" href="../../examples/basic_examples/Coin Toss Model/">Coin toss model (Beta-Bernoulli)</a></li><li><a class="tocitem" href="../../examples/basic_examples/Bayesian Linear Regression Tutorial/">Bayesian Linear Regression Tutorial</a></li><li><a class="tocitem" href="../../examples/basic_examples/Kalman filtering and smoothing/">Kalman filtering and smoothing</a></li><li><a class="tocitem" href="../../examples/basic_examples/Predicting Bike Rental Demand/">Predicting Bike Rental Demand</a></li><li><a class="tocitem" href="../../examples/basic_examples/Hidden Markov Model/">How to train your Hidden Markov Model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Advanced examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/advanced_examples/overview/">Overview</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Active Inference Mountain car/">Active Inference Mountain car</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Advanced Tutorial/">Advanced Tutorial</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Assessing People Skills/">Assessing People’s Skills</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Chance Constraints/">Chance-Constrained Active Inference</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Conjugate-Computational Variational Message Passing/">Conjugate-Computational Variational Message Passing (CVI)</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Global Parameter Optimisation/">Global Parameter Optimisation</a></li><li><a class="tocitem" href="../../examples/advanced_examples/GP Regression by SSM/">Solve GP regression by SDE</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Infinite Data Stream/">Infinite Data Stream</a></li><li><a class="tocitem" href="../../examples/advanced_examples/Nonlinear Sensor Fusion/">Nonlinear Sensor Fusion</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Problem specific</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/problem_specific/overview/">Overview</a></li><li><a class="tocitem" href="../../examples/problem_specific/Autoregressive Models/">Autoregressive Models</a></li><li><a class="tocitem" href="../../examples/problem_specific/Gamma Mixture/">Gamma Mixture Model</a></li><li><a class="tocitem" href="../../examples/problem_specific/Gaussian Mixture/">Gaussian Mixture</a></li><li><a class="tocitem" href="../../examples/problem_specific/Hierarchical Gaussian Filter/">Hierarchical Gaussian Filter</a></li><li><a class="tocitem" href="../../examples/problem_specific/Invertible Neural Network Tutorial/">Invertible neural networks: a tutorial</a></li><li><a class="tocitem" href="../../examples/problem_specific/Probit Model (EP)/">Probit Model (EP)</a></li><li><a class="tocitem" href="../../examples/problem_specific/RTS vs BIFM Smoothing/">RTS vs BIFM Smoothing</a></li><li><a class="tocitem" href="../../examples/problem_specific/Simple Nonlinear Node/">Simple Nonlinear Node</a></li><li><a class="tocitem" href="../../examples/problem_specific/Universal Mixtures/">Universal Mixtures</a></li></ul></li></ul></li><li><span class="tocitem">Contributing</span><ul><li><a class="tocitem" href="../../contributing/overview/">Overview</a></li><li><a class="tocitem" href="../../contributing/new-documentation/">Contributing to the documentation</a></li><li><a class="tocitem" href="../../contributing/new-package/">Contributing to the dependencies</a></li><li><a class="tocitem" href="../../contributing/new-example/">Contributing to the examples</a></li><li><a class="tocitem" href="../../contributing/new-release/">Publishing a new release</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User guide</a></li><li class="is-active"><a href>Getting started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting started</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/RxInfer.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/main/docs/src/manuals/getting-started.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="user-guide-getting-started"><a class="docs-heading-anchor" href="#user-guide-getting-started">Getting started</a><a id="user-guide-getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#user-guide-getting-started" title="Permalink"></a></h1><p><code>RxInfer.jl</code> is a Julia package for Bayesian Inference on Factor Graphs by Message Passing. It supports both exact and variational inference algorithms.</p><p><code>RxInfer.jl</code> package forms an ecosystem around three main packages: <code>ReactiveMP.jl</code> exports a reactive message passing based Bayesian inference engine, <code>Rocket.jl</code> is the core library that enables reactivity and <code>GraphPPL.jl</code> library simplifies model and constraints specification. <code>ReactiveMP.jl</code> engine is a successor of the <a href="https://github.com/biaslab/ForneyLab.jl"><code>ForneyLab</code></a> package. It follows the same ideas and concepts for message-passing based inference, but uses new reactive and efficient message passing implementation under the hood. The API between two packages is different due to a better flexibility, performance and new reactive approach for solving inference problems.</p><p>This page provides the necessary information you need to get started with <code>Rxinfer</code>. We will show the general approach to solving inference problems with <code>RxInfer</code> by means of a running example: inferring the bias of a coin.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>Install <code>RxInfer</code> through the Julia package manager:</p><pre><code class="nohighlight hljs">] add RxInfer</code></pre><h2 id="Importing-RxInfer"><a class="docs-heading-anchor" href="#Importing-RxInfer">Importing RxInfer</a><a id="Importing-RxInfer-1"></a><a class="docs-heading-anchor-permalink" href="#Importing-RxInfer" title="Permalink"></a></h2><p>To add <code>RxInfer</code> package (and all associated packages) into a running Julia session simply run:</p><pre><code class="language-julia hljs">using RxInfer</code></pre><p>Read more about about <code>using</code> in the <a href="../../library/exported-methods/#lib-using-methods">Using methods from RxInfer</a> section of the documentation.</p><h2 id="Example:-Inferring-the-bias-of-a-coin"><a class="docs-heading-anchor" href="#Example:-Inferring-the-bias-of-a-coin">Example: Inferring the bias of a coin</a><a id="Example:-Inferring-the-bias-of-a-coin-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Inferring-the-bias-of-a-coin" title="Permalink"></a></h2><p>The <code>RxInfer</code> approach to solving inference problems consists of three phases:</p><ol><li><a href="#getting-started-model-specification">Model specification</a>: <code>RxInfer</code> uses <code>GraphPPL</code> package for model specification part. It offers a domain-specific language to specify your probabilistic model.</li><li><a href="#getting-started-inference-specification">Inference specification</a>: <code>RxInfer</code> inference API uses <code>ReactiveMP</code> inference engine under the hood and has been designed to be as flexible as possible. It is compatible both with asynchronous infinite data streams and with static datasets. For most of the use cases it consists of the same simple building blocks. In this example we will show one of the many possible ways to infer your quantities of interest.</li><li><a href="#getting-started-inference-execution">Inference execution</a>: Given model specification and inference procedure it is pretty straightforward to use reactive API from <code>Rocket</code> to pass data to the inference backend and to run actual inference.</li></ol><h3 id="Coin-flip-simulation"><a class="docs-heading-anchor" href="#Coin-flip-simulation">Coin flip simulation</a><a id="Coin-flip-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Coin-flip-simulation" title="Permalink"></a></h3><p>Let&#39;s start by creating some dataset. One approach could be flipping a coin N times and recording each outcome. For simplicity in this example we will use static pre-generated dataset. Each sample can be thought of as the outcome of single flip which is either heads or tails (1 or 0). We will assume that our virtual coin is biased, and lands heads up on 75% of the trials (on average).</p><p>First let&#39;s setup our environment by importing all needed packages:</p><pre><code class="language-julia hljs">using RxInfer, Distributions, Random</code></pre><p>Next, let&#39;s define our dataset:</p><pre><code class="language-julia hljs">rng = MersenneTwister(42)
n = 10
p = 0.75
distribution = Bernoulli(p)

dataset = float.(rand(rng, Bernoulli(p), n))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">10-element Vector{Float64}:
 1.0
 1.0
 1.0
 1.0
 0.0
 0.0
 1.0
 1.0
 0.0
 1.0</code></pre><h3 id="getting-started-model-specification"><a class="docs-heading-anchor" href="#getting-started-model-specification">Model specification</a><a id="getting-started-model-specification-1"></a><a class="docs-heading-anchor-permalink" href="#getting-started-model-specification" title="Permalink"></a></h3><p>In a Bayesian setting, the next step is to specify our probabilistic model. This amounts to specifying the joint probability of the random variables of the system.</p><h4 id="Likelihood"><a class="docs-heading-anchor" href="#Likelihood">Likelihood</a><a id="Likelihood-1"></a><a class="docs-heading-anchor-permalink" href="#Likelihood" title="Permalink"></a></h4><p>We will assume that the outcome of each coin flip is governed by the Bernoulli distribution, i.e.</p><p class="math-container">\[y_i \sim \mathrm{Bernoulli}(\theta),\]</p><p>where <span>$y_i = 1$</span> represents &quot;heads&quot;, <span>$y_i = 0$</span> represents &quot;tails&quot;. The underlying probability of the coin landing heads up for a single coin flip is <span>$\theta \in [0,1]$</span>.</p><h4 id="Prior"><a class="docs-heading-anchor" href="#Prior">Prior</a><a id="Prior-1"></a><a class="docs-heading-anchor-permalink" href="#Prior" title="Permalink"></a></h4><p>We will choose the conjugate prior of the Bernoulli likelihood function defined above, namely the beta distribution, i.e.</p><p class="math-container">\[\theta \sim Beta(a, b),\]</p><p>where <span>$a$</span> and <span>$b$</span> are the hyperparameters that encode our prior beliefs about the possible values of <span>$\theta$</span>. We will assign values to the hyperparameters in a later step.   </p><h4 id="Joint-probability"><a class="docs-heading-anchor" href="#Joint-probability">Joint probability</a><a id="Joint-probability-1"></a><a class="docs-heading-anchor-permalink" href="#Joint-probability" title="Permalink"></a></h4><p>The joint probability is given by the multiplication of the likelihood and the prior, i.e.</p><p class="math-container">\[P(y_{1:N}, θ) = P(θ) \prod_{i=1}^N P(y_i | θ).\]</p><p>Now let&#39;s see how to specify this model using GraphPPL&#39;s package syntax.</p><pre><code class="language-julia hljs"># GraphPPL.jl export `@model` macro for model specification
# It accepts a regular Julia function and builds an FFG under the hood
@model function coin_model(n)

    # `datavar` creates data &#39;inputs&#39; in our model
    # We will pass data later on to these inputs
    # In this example we create a sequence of inputs that accepts Float64
    y = datavar(Float64, n)

    # We endow θ parameter of our model with some prior
    θ ~ Beta(2.0, 7.0)
    # or, in this particular case, the `Uniform(0.0, 1.0)` prior also works:
    # θ ~ Uniform(0.0, 1.0)

    # We assume that outcome of each coin flip is governed by the Bernoulli distribution
    for i in 1:n
        y[i] ~ Bernoulli(θ)
    end

    # We return references to our data inputs and θ parameter
    # We will use these references later on during inference step
    return y, θ
end</code></pre><p>As you can see, <code>RxInfer</code> offers a model specification syntax that resembles closely to the mathematical equations defined above. We use <code>datavar</code> function to create &quot;clamped&quot; variables that take specific values at a later date. <code>θ ~ Beta(2.0, 7.0)</code> expression creates random variable <code>θ</code> and assigns it as an output of <code>Beta</code> node in the corresponding FFG. </p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>To quickly check the list of all available factor nodes that can be used in the model specification language call <code>?make_node</code> or <code>Base.doc(make_node)</code>.</p></div></div><h3 id="getting-started-inference-specification"><a class="docs-heading-anchor" href="#getting-started-inference-specification">Inference specification</a><a id="getting-started-inference-specification-1"></a><a class="docs-heading-anchor-permalink" href="#getting-started-inference-specification" title="Permalink"></a></h3><h4 id="Automatic-inference-specification"><a class="docs-heading-anchor" href="#Automatic-inference-specification">Automatic inference specification</a><a id="Automatic-inference-specification-1"></a><a class="docs-heading-anchor-permalink" href="#Automatic-inference-specification" title="Permalink"></a></h4><p>Once we have defined our model, the next step is to use <code>RxInfer</code> API to infer quantities of interests. To do this we can use a generic <code>inference</code> function that supports static datasets.</p><pre><code class="language-julia hljs">result = infer(
    model = coin_model(length(dataset)),
    data  = (y = dataset, )
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Inference results:
  Posteriors       | available for (θ)
</code></pre><pre><code class="language-julia hljs">θestimated = result.posteriors[:θ]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Beta{Float64}(α=9.0, β=10.0)</code></pre><pre><code class="language-julia hljs">println(&quot;mean: &quot;, mean(θestimated))
println(&quot;std:  &quot;, std(θestimated))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">mean: 0.47368421052631576
std:  0.11164843913471803</code></pre><p>Read more information about the <code>inference</code> function in the <a href="../inference/infer/#user-guide-inference">Static Inference</a> documentation section.</p><h4 id="Manual-inference-specification"><a class="docs-heading-anchor" href="#Manual-inference-specification">Manual inference specification</a><a id="Manual-inference-specification-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-inference-specification" title="Permalink"></a></h4><p>There is a way to manually specify an inference procedure for advanced use-cases. <code>RxInfer</code> API is flexible in terms of inference specification and is compatible both with real-time inference processing and with static datasets. In most of the cases for static datasets, as in our example, it consists of same basic building blocks:</p><ol><li>Return variables of interests from model specification</li><li>Subscribe on variables of interests posterior marginal updates</li><li>Pass data to the model</li><li>Unsubscribe </li></ol><p>Here is an example of inference procedure:</p><pre><code class="language-julia hljs">function custom_inference(data)
    n = length(data)

    # `coin_model` function from `@model` macro returns a reference to the model generator object
    # we need to use the `create_model` function to get actual model object
    model, (y, θ) = create_model(coin_model(n))

    # Reference for future posterior marginal
    mθ = nothing

    # `getmarginal` function returns an observable of future posterior marginal updates
    # We use `Rocket.jl` API to subscribe on this observable
    # As soon as posterior marginal update is available we just save it in `mθ`
    subscription = subscribe!(getmarginal(θ), (m) -&gt; mθ = m)

    # `update!` function passes data to our data inputs
    update!(y, data)

    # It is always a good practice to unsubscribe and to
    # free computer resources held by the subscription
    unsubscribe!(subscription)

    # Here we return our resulting posterior marginal
    return mθ
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">custom_inference (generic function with 1 method)</code></pre><h3 id="getting-started-inference-execution"><a class="docs-heading-anchor" href="#getting-started-inference-execution">Inference execution</a><a id="getting-started-inference-execution-1"></a><a class="docs-heading-anchor-permalink" href="#getting-started-inference-execution" title="Permalink"></a></h3><p>Here after everything is ready we just call our <code>inference</code> function to get a posterior marginal distribution over <code>θ</code> parameter in the model.</p><pre><code class="language-julia hljs">θestimated = custom_inference(dataset)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Marginal(Beta{Float64}(α=9.0, β=10.0))</code></pre><pre><code class="language-julia hljs">println(&quot;mean: &quot;, mean(θestimated))
println(&quot;std:  &quot;, std(θestimated))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">mean: 0.47368421052631576
std:  0.11164843913471803</code></pre><pre><code class="language-julia hljs">using Plots

rθ = range(0, 1, length = 1000)

p1 = plot(rθ, (x) -&gt; pdf(Beta(2.0, 7.0), x), title=&quot;Prior&quot;, fillalpha=0.3, fillrange = 0, label=&quot;P(θ)&quot;, c=1,)
p2 = plot(rθ, (x) -&gt; pdf(θestimated, x), title=&quot;Posterior&quot;, fillalpha=0.3, fillrange = 0, label=&quot;P(θ|y)&quot;, c=3)

plot(p1, p2, layout = @layout([ a; b ]))</code></pre><img src="3f1e2d6e.svg" alt="Example block output"/><p>In our dataset we used 10 coin flips to estimate the bias of a coin. It resulted in a vague posterior distribution, however <code>RxInfer</code> scales very well for large models and factor graphs. We may use more coin flips in our dataset for better posterior distribution estimates:</p><pre><code class="language-julia hljs">dataset_100   = float.(rand(rng, Bernoulli(p), 100))
dataset_1000  = float.(rand(rng, Bernoulli(p), 1000))
dataset_10000 = float.(rand(rng, Bernoulli(p), 10000))</code></pre><pre><code class="language-julia hljs">θestimated_100   = custom_inference(dataset_100)
θestimated_1000  = custom_inference(dataset_1000)
θestimated_10000 = custom_inference(dataset_10000)</code></pre><pre><code class="language-julia hljs">p3 = plot(title = &quot;Posterior&quot;, legend = :topleft)

p3 = plot!(p3, rθ, (x) -&gt; pdf(θestimated_100, x), fillalpha = 0.3, fillrange = 0, label = &quot;P(θ|y_100)&quot;, c = 4)
p3 = plot!(p3, rθ, (x) -&gt; pdf(θestimated_1000, x), fillalpha = 0.3, fillrange = 0, label = &quot;P(θ|y_1000)&quot;, c = 5)
p3 = plot!(p3, rθ, (x) -&gt; pdf(θestimated_10000, x), fillalpha = 0.3, fillrange = 0, label = &quot;P(θ|y_10000)&quot;, c = 6)

plot(p1, p3, layout = @layout([ a; b ]))</code></pre><img src="77673a55.svg" alt="Example block output"/><p>With larger dataset our posterior marginal estimate becomes more and more accurate and represents real value of the bias of a coin.</p><pre><code class="language-julia hljs">println(&quot;mean: &quot;, mean(θestimated_10000))
println(&quot;std:  &quot;, std(θestimated_10000))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">mean: 0.7529223698671196
std:  0.004310967761308469</code></pre><h2 id="Where-to-go-next?"><a class="docs-heading-anchor" href="#Where-to-go-next?">Where to go next?</a><a id="Where-to-go-next?-1"></a><a class="docs-heading-anchor-permalink" href="#Where-to-go-next?" title="Permalink"></a></h2><p>There are a set of <a href="https://github.com/reactivebayes/ReactiveMP.jl/tree/master/examples">examples</a> available in <code>RxInfer</code> repository that demonstrate the more advanced features of the package and also <a href="../../examples/overview/#examples-overview">Examples</a> section in the documentation. Alternatively, you can head to the <a href="../model-specification/#user-guide-model-specification">Model specification</a> which provides more detailed information of how to use <code>RxInfer</code> to specify probabilistic models. <a href="../inference/overview/#user-guide-inference-execution">Inference execution</a> section provides a documentation about <code>RxInfer</code> API for running reactive Bayesian inference.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../comparison/">RxInfer.jl vs. Others »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Thursday 22 February 2024 13:41">Thursday 22 February 2024</span>. Using Julia version 1.10.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
