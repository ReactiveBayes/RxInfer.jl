<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Auto-updates · RxInfer.jl</title><meta name="title" content="Auto-updates · RxInfer.jl"/><meta property="og:title" content="Auto-updates · RxInfer.jl"/><meta property="twitter:title" content="Auto-updates · RxInfer.jl"/><meta name="description" content="Julia package for automated Bayesian inference on a factor graph with reactive message passing"/><meta property="og:description" content="Julia package for automated Bayesian inference on a factor graph with reactive message passing"/><meta property="twitter:description" content="Julia package for automated Bayesian inference on a factor graph with reactive message passing"/><meta property="og:url" content="https://reactivebayes.github.io/RxInfer.jl/manuals/inference/autoupdates/"/><meta property="twitter:url" content="https://reactivebayes.github.io/RxInfer.jl/manuals/inference/autoupdates/"/><link rel="canonical" href="https://reactivebayes.github.io/RxInfer.jl/manuals/inference/autoupdates/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/theme.css" rel="stylesheet" type="text/css"/><link href="../../../assets/header.css" rel="stylesheet" type="text/css"/><script src="../../../assets/header.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img class="docs-light-only" src="../../../assets/logo.svg" alt="RxInfer.jl logo"/><img class="docs-dark-only" src="../../../assets/logo-dark.svg" alt="RxInfer.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">RxInfer.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../../getting-started/">Getting started</a></li><li><a class="tocitem" href="../../comparison/">RxInfer.jl vs. Others</a></li><li><a class="tocitem" href="../../model-specification/">Model specification</a></li><li><a class="tocitem" href="../../constraints-specification/">Constraints specification</a></li><li><a class="tocitem" href="../../meta-specification/">Meta specification</a></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox" checked/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Inference specification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../static/">Static inference</a></li><li><a class="tocitem" href="../streamlined/">Streamline inference</a></li><li><a class="tocitem" href="../initialization/">Initialization</a></li><li class="is-active"><a class="tocitem" href>Auto-updates</a><ul class="internal"><li><a class="tocitem" href="#General-syntax"><span>General syntax</span></a></li><li><a class="tocitem" href="#The-options-block"><span>The options block</span></a></li><li><a class="tocitem" href="#Internal-data-structures"><span>Internal data structures</span></a></li></ul></li><li><a class="tocitem" href="../delta-node/">Deterministic nodes</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-7" type="checkbox"/><label class="tocitem" for="menuitem-2-7"><span class="docs-label">Inference customization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../customization/custom-node/">Defining a custom node and rules</a></li><li><a class="tocitem" href="../../customization/postprocess/">Inference results postprocessing</a></li></ul></li><li><a class="tocitem" href="../../debugging/">Debugging</a></li><li><a class="tocitem" href="../../migration-guide-v2-v3/">Migration from v2 to v3</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../../library/model-construction/">Model construction</a></li><li><a class="tocitem" href="../../../library/bethe-free-energy/">Bethe Free Energy</a></li><li><a class="tocitem" href="../../../library/functional-forms/">Functional form constraints</a></li><li><a class="tocitem" href="../../../library/exported-methods/">Exported methods</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../../examples/overview/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Basic examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../examples/basic_examples/overview/">Overview</a></li><li><a class="tocitem" href="../../../examples/basic_examples/Coin Toss Model/">Coin toss model (Beta-Bernoulli)</a></li><li><a class="tocitem" href="../../../examples/basic_examples/Bayesian Linear Regression Tutorial/">Bayesian Linear Regression Tutorial</a></li><li><a class="tocitem" href="../../../examples/basic_examples/Kalman filtering and smoothing/">Kalman filtering and smoothing</a></li><li><a class="tocitem" href="../../../examples/basic_examples/Predicting Bike Rental Demand/">Predicting Bike Rental Demand</a></li><li><a class="tocitem" href="../../../examples/basic_examples/Hidden Markov Model/">How to train your Hidden Markov Model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Advanced examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../examples/advanced_examples/overview/">Overview</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Active Inference Mountain car/">Active Inference Mountain car</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Advanced Tutorial/">Advanced Tutorial</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Assessing People Skills/">Assessing People’s Skills</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Chance Constraints/">Chance-Constrained Active Inference</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Conjugate-Computational Variational Message Passing/">Conjugate-Computational Variational Message Passing (CVI)</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Global Parameter Optimisation/">Global Parameter Optimisation</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/GP Regression by SSM/">Solve GP regression by SDE</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Infinite Data Stream/">Infinite Data Stream</a></li><li><a class="tocitem" href="../../../examples/advanced_examples/Nonlinear Sensor Fusion/">Nonlinear Sensor Fusion</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Problem specific</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../examples/problem_specific/overview/">Overview</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Autoregressive Models/">Autoregressive Models</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Gamma Mixture/">Gamma Mixture Model</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Gaussian Mixture/">Gaussian Mixture</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Hierarchical Gaussian Filter/">Hierarchical Gaussian Filter</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Invertible Neural Network Tutorial/">Invertible neural networks: a tutorial</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Probit Model (EP)/">Probit Model (EP)</a></li><li><a class="tocitem" href="../../../examples/problem_specific/RTS vs BIFM Smoothing/">RTS vs BIFM Smoothing</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Simple Nonlinear Node/">Simple Nonlinear Node</a></li><li><a class="tocitem" href="../../../examples/problem_specific/Universal Mixtures/">Universal Mixtures</a></li></ul></li><li><a class="tocitem" href="../../../contributing/external-examples/">External examples</a></li></ul></li><li><span class="tocitem">Contributing</span><ul><li><a class="tocitem" href="../../../contributing/guide/">Contribution guide</a></li><li><a class="tocitem" href="../../../contributing/guidelines/">Contribution guidelines</a></li><li><a class="tocitem" href="../../../contributing/new-documentation/">Contributing to the documentation</a></li><li><a class="tocitem" href="../../../contributing/new-example/">Contributing to the examples</a></li><li><a class="tocitem" href="../../../contributing/new-release/">Publishing a new release</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User guide</a></li><li><a class="is-disabled">Inference specification</a></li><li class="is-active"><a href>Auto-updates</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Auto-updates</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/RxInfer.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/main/docs/src/manuals/inference/autoupdates.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="autoupdates-guide"><a class="docs-heading-anchor" href="#autoupdates-guide">Autoupdates specification</a><a id="autoupdates-guide-1"></a><a class="docs-heading-anchor-permalink" href="#autoupdates-guide" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.@autoupdates" href="#RxInfer.@autoupdates"><code>RxInfer.@autoupdates</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@autoupdates [ options... ] begin 
    argument_to_update = some_function(q(some_variable_from_the_model))
end</code></pre><p>Creates the auto-updates specification for the <code>infer</code> function for the online-streaming Bayesian inference procedure, where  it is important to update prior states based on the new updated posteriors. Read more information about the  <code>@autoupdates</code> syntax in the official documentation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L7-L15">source</a></section></article><p><code>RxInfer</code> supports <a href="../streamlined/#manual-online-inference">streaming inference</a> on infinite datastreams, wherein posterior beliefs over latent states update automatically as soon as new observations are available. However, we also aim to update our priors given updated beliefs. Let&#39;s begin with a simple example:</p><pre><code class="language-julia hljs">using RxInfer

@model function streaming_beta_bernoulli(a, b, y)
    θ ~ Beta(a, b)
    y ~ Bernoulli(θ)
end</code></pre><p>For this model, the <code>RxInfer</code> engine will update the posterior belief over the variable <code>θ</code> every time we receive a new observation <code>y</code>. However, we also wish to update our prior belief by adjusting the arguments <code>a</code> and <code>b</code> as soon as we have a new belief for the variable <code>θ</code>. The <code>@autoupdates</code> macro automates this process, simplifying the task of writing automatic updates for certain model arguments based on new beliefs within the model. Here&#39;s how it could look:</p><pre><code class="language-julia hljs">autoupdates = @autoupdates begin
    a, b = params(q(θ))
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    (a, b) = params(q(θ))
end
</code></pre><p>This specification directs the <code>RxInfer</code> inference engine to update <code>a</code> and <code>b</code> by invoking the <code>params</code> function on the posterior <code>q</code> of <code>θ</code>. The <code>params</code> function, defined in the <code>Distributions.jl</code> package, extracts the parameters (<code>a</code> and <code>b</code> in this case) in the form of a tuple of the resulting posterior (<code>Beta</code>) distribution.</p><p>Now, we can use the <code>autoupdates</code> structure in the <a href="../overview/#RxInfer.infer"><code>infer</code></a> function as following:</p><pre><code class="language-julia hljs"># The streaming inference supports static datasets as well
data = (y = [ 1, 0, 1 ], )

result = infer(
    model          = streaming_beta_bernoulli(),
    autoupdates    = autoupdates,
    data           = data,
    keephistory    = 3,
    initialization = @initialization(q(θ) = Beta(1, 1))
)

result.history[:θ]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element DataStructures.CircularBuffer{Any}:
 Beta{Float64}(α=2.0, β=1.0)
 Beta{Float64}(α=2.0, β=2.0)
 Beta{Float64}(α=3.0, β=2.0)</code></pre><p>In this example, we also used the <a href="../initialization/#initialization">initialization</a> keyword argument.  This is required for latent states, which are used in the <code>@autoupdates</code> specification together with streaming inference.</p><p>Consider another example with the following model and auto-update specification:</p><pre><code class="language-julia hljs">@model function kalman_filter(y, x_current_mean, x_current_var)
    x_current ~ Normal(mean = x_current_mean, var = x_current_var)
    x_next    ~ Normal(mean = x_current, var = 1.0)
    y         ~ Normal(mean = x_next, var = 1.0)
end</code></pre><p>This model comprises two arguments representing our prior knowledge of the <code>x_current</code> state of the system.  The latent state <code>x_next</code> represents the subsequent state of the system, linked to the observed variable <code>y</code>.  An auto-update specification could resemble the following:</p><pre><code class="language-julia hljs">autoupdates = @autoupdates begin
    x_current_mean = mean(q(x_next))
    x_current_var  = var(q(x_next))
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    x_current_mean = mean(q(x_next))
    x_current_var = var(q(x_next))
end
</code></pre><p>This structure dictates updating our prior immediately upon obtaining a new posterior <code>q(x_next)</code>.  It then applies the <code>mean</code> and <code>var</code> functions to the updated posteriors, thereby automatically updating <code>x_current_mean</code> and <code>x_current_var</code>.</p><pre><code class="language-julia hljs">result = infer(
    model = kalman_filter(),
    data  = (y = rand(3), ),
    autoupdates = autoupdates,
    initialization = @initialization(q(x_next) = NormalMeanVariance(0, 1)),
    keephistory = 3,
)
result.history[:x_next]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element DataStructures.CircularBuffer{Any}:
 NormalWeightedMeanPrecision{Float64}(xi=0.008839477513775007, w=1.5)
 NormalWeightedMeanPrecision{Float64}(xi=0.7170342610237737, w=1.6)
 NormalWeightedMeanPrecision{Float64}(xi=0.5880404937771609, w=1.6153846153846154)</code></pre><p>Read more about streaming inference in the <a href="../streamlined/#manual-online-inference">Streaming (online) inference</a> section.</p><h2 id="General-syntax"><a class="docs-heading-anchor" href="#General-syntax">General syntax</a><a id="General-syntax-1"></a><a class="docs-heading-anchor-permalink" href="#General-syntax" title="Permalink"></a></h2><p>The <code>@autoupdates</code> macro accepts either a block of code or a full function definition. It detects and transforms lines structured as follows:</p><pre><code class="language-julia hljs">(model_arguments...) = some_function(model_variables...)</code></pre><p>These lines are referred to as <em>individual autoupdate specifications</em>. Other expressions remain unchanged.  The result of the macro execution is the <a href="#RxInfer.AutoUpdateSpecification"><code>RxInfer.AutoUpdateSpecification</code></a> structure that holds the collection  of <a href="#RxInfer.IndividualAutoUpdateSpecification"><code>RxInfer.IndividualAutoUpdateSpecification</code></a>.</p><p>The <code>@autoupdates</code> macro identifies an individual autoupdate specification if the <code>model_variables...</code> contains:</p><ul><li><code>q(s)</code>, which monitors updates from marginal posteriors of an individual variable <code>s</code> or a collection of variables <code>s</code>.</li><li><code>q(s[i])</code>, which monitors updates from marginal posteriors of the collection of variables <code>s</code> at index <code>i</code>.</li></ul><p>Expressions not meeting the above criteria remain unmodified. For instance, an expression like <code>a = f(1)</code> is not considered an individual autoupdate. Therefore, the <code>@autoupdates</code> macro can contain arbitrary expressions and allows for the definition of temporary variables or even functions. Additionally, within an individual autoupdate specification, it is possible to use any intermediate constants, such as <code>a, b = some_function(q(s), a_constant)</code>.</p><p>The <code>model_arguments...</code> can either be a single model argument or a tuple of model arguments, as defined within the <code>@model</code> macro. However, it&#39;s important to note that if <code>model_arguments...</code> is a tuple, for example in <code>a, b = some_function(q(s))</code>, then <code>some_function</code> must also return a tuple of the same length (of length 2 in this example).</p><p>Individual autoupdate specifications can involve somewhat complex expressions, as demonstrated below:</p><pre><code class="language-julia hljs">@autoupdates begin
    a = mean(q(θ)) / 2
    b = 2 * (mean(q(θ)) + 1)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    a = /(mean(q(θ)), 2)
    b = *(2, +(mean(q(θ)), 1))
end
</code></pre><p>or</p><pre><code class="language-julia hljs">@autoupdates begin
    x = clamp(mean(q(z)), 0, 1)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    x = clamp(mean(q(z)), 0, 1)
end
</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p><code>q(θ)[i]</code> or <code>f(q(θ))[i]</code> syntax is not supported, use <code>getindex(q(θ), i)</code> or <code>getindex(f(q(θ)), i)</code> instead.</p></div></div><p>The <code>@autoupdates</code> macro does also support the broadcasting:</p><pre><code class="language-julia hljs">@autoupdates begin
    x = clamp.(mean.(q(z)), 0, 1)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    x = clamp.(mean.(q(z)), 0, 1)
end
</code></pre><p>Read more about broadcasting in the official Julia documentation.</p><p>An individual autoupdate can also simultaneously depend on multiple latent states, e.g:</p><pre><code class="language-julia hljs">@autoupdates begin
    a = f(q(μ), q(s), q(τ))
    b = g(q(θ))
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    a = f(q(μ), q(s), q(τ))
    b = g(q(θ))
end
</code></pre><p>As mentioned before, the <code>@autoupdates</code> accepts a full function definition, which can also accepts arbitrary arguments:</p><pre><code class="language-julia hljs">@autoupdates function generate_autoupdates(f, condition)
    if condition
        a = f(q(θ))
    else
        a = f(q(s))
    end
end

autoupdates = generate_autoupdates(mean, true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    a = mean(q(θ))
end
</code></pre><h2 id="The-options-block"><a class="docs-heading-anchor" href="#The-options-block">The options block</a><a id="The-options-block-1"></a><a class="docs-heading-anchor-permalink" href="#The-options-block" title="Permalink"></a></h2><p>Optionally, the <code>@autoupdates</code> macro accepts a set of <code>[ options... ]</code> before the main block or the full function definition. The available options are:</p><ul><li><code>warn = true/false</code>: Enables or disables warnings when with incomaptible model. Set to <code>true</code> by default.</li><li><code>strict = true/false</code>: Turns warnings into errors. Set to <code>false</code> by default.</li></ul><pre><code class="language-julia hljs">autoupdates = @autoupdates [ strict = true ] begin
    a, b = params(q(θ))
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    (a, b) = params(q(θ))
end
</code></pre><p>or </p><pre><code class="language-julia hljs">@autoupdates [ strict = true ] function generate_autoupdates()
    a, b = params(q(θ))
end
autoupdates = generate_autoupdates()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@autoupdates begin
    (a, b) = params(q(θ))
end
</code></pre><h2 id="Internal-data-structures"><a class="docs-heading-anchor" href="#Internal-data-structures">Internal data structures</a><a id="Internal-data-structures-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-data-structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.AutoUpdateSpecification" href="#RxInfer.AutoUpdateSpecification"><code>RxInfer.AutoUpdateSpecification</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AutoUpdateSpecification(specifications)</code></pre><p>A structure that holds a collection of individual auto-update specifications.  Each specification defines how to update the model&#39;s arguments  based on the new posterior/messages updates. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L177-L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.parse_autoupdates" href="#RxInfer.parse_autoupdates"><code>RxInfer.parse_autoupdates</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_autoupdates(options, expression)</code></pre><p>Parses the internals of the expression passed to the <code>@autoupdates</code> macro and returns the <code>RxInfer.AutoUpdateSpecification</code> structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.autoupdate_check_reserved_expressions" href="#RxInfer.autoupdate_check_reserved_expressions"><code>RxInfer.autoupdate_check_reserved_expressions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">autoupdate_check_reserved_expressions(block)</code></pre><p>This function checks if the expression is a valid autoupdate specification some expressions are forbidden within the autoupdate specification.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L84-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.numautoupdates" href="#RxInfer.numautoupdates"><code>RxInfer.numautoupdates</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the number of auto-updates in the specification</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.isempty-Tuple{RxInfer.AutoUpdateSpecification}" href="#Base.isempty-Tuple{RxInfer.AutoUpdateSpecification}"><code>Base.isempty</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns <code>true</code> if the auto-update specification is empty</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.getautoupdate" href="#RxInfer.getautoupdate"><code>RxInfer.getautoupdate</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the individual auto-update specification at the given index</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L205">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.addspecification" href="#RxInfer.addspecification"><code>RxInfer.addspecification</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Appends the individual auto-update specification to the existing specification</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L210">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.getvarlabels" href="#RxInfer.getvarlabels"><code>RxInfer.getvarlabels</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the labels of the auto-update specification, which are the names of the variables to update</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L225">source</a></section><section><div><p>Returns the labels of the auto-update specification, which are the names of the variables to update</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.IndividualAutoUpdateSpecification" href="#RxInfer.IndividualAutoUpdateSpecification"><code>RxInfer.IndividualAutoUpdateSpecification</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">IndividualAutoUpdateSpecification(varlabels, arguments, mapping)</code></pre><p>A structure that defines how to update a single variable in the model. It consists of the variable labels and the mapping function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L247-L252">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.getmapping" href="#RxInfer.getmapping"><code>RxInfer.getmapping</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the mapping function of the auto-update specification, which defines how to update the variable</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.AutoUpdateVariableLabel" href="#RxInfer.AutoUpdateVariableLabel"><code>RxInfer.AutoUpdateVariableLabel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AutoUpdateVariableLabel{L, I}(label, [ index = nothing ])</code></pre><p>A structure that holds the label of the variable to update and its index. By default, the index is set to <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L266-L271">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.AutoUpdateMapping" href="#RxInfer.AutoUpdateMapping"><code>RxInfer.AutoUpdateMapping</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AutoUpdateMapping(arguments, mappingFn)</code></pre><p>A structure that holds the arguments and the mapping function for the individual auto-update specification.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L283-L287">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.AutoUpdateFetchMarginalArgument" href="#RxInfer.AutoUpdateFetchMarginalArgument"><code>RxInfer.AutoUpdateFetchMarginalArgument</code></a> — <span class="docstring-category">Type</span></header><section><div><p>This autoupdate would fetch updates from the marginal of a variable</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L300">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.AutoUpdateFetchMessageArgument" href="#RxInfer.AutoUpdateFetchMessageArgument"><code>RxInfer.AutoUpdateFetchMessageArgument</code></a> — <span class="docstring-category">Type</span></header><section><div><p>This autoupdate would fetch updates from the last message (in the array of messages) of a variable</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L312">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInfer.prepare_autoupdates_for_model" href="#RxInfer.prepare_autoupdates_for_model"><code>RxInfer.prepare_autoupdates_for_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">prepare_autoupdates_for_model(autoupdates, model)</code></pre><p>This function extracts the variables saved in the <code>autoupdates</code> from the model. Replaces <code>AutoUpdateFetchMarginalArgument</code> and <code>AutoUpdateFetchMessageArgument</code> with actual streams.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/RxInfer.jl/blob/024d426cea6787b2fb59dfc34118c6f50b04df97/src/inference/autoupdates.jl#L355-L360">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../initialization/">« Initialization</a><a class="docs-footer-nextpage" href="../delta-node/">Deterministic nodes »</a><div class="flexbox-break"></div><p class="footer-message">Created in <a href="https://biaslab.github.io/">BIASlab</a>, maintained by <a href="https://github.com/ReactiveBayes">ReactiveBayes</a>, powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Tuesday 4 June 2024 15:57">Tuesday 4 June 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
